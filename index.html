<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Seguridad Delagente</title>

  <!-- Fuente + estilos mínimos (puedes dejar los tuyos si ya los tienes) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root { color-scheme: dark; }
    *{box-sizing:border-box} body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
    header{display:flex;align-items:center;gap:16px;padding:12px 20px;background:#2d333b}
    header img{height:40px}
    header h1{font-size:20px;margin:0;font-weight:800}
    nav{margin-left:auto;display:flex;gap:10px}
    .btn{padding:8px 14px;border-radius:10px;border:1px solid #444;background:#39414a;color:#fff;cursor:pointer}
    .btn.primary{background:#2563eb;border-color:#1f4fd3}
    .btn.ghost{background:transparent;border-color:#4b5563}
    .btn.active{outline:2px solid #93c5fd}
    main{padding:24px}
    .tabs{display:grid;gap:18px}
    .tab{display:none}
    .card{background:#0f1720;border:1px solid #242b33;border-radius:14px;padding:18px}
    .grid{display:grid;gap:18px}
    @media(min-width:980px){ .grid{grid-template-columns:1fr 1fr} }
    h2{margin:0 0 12px 0;font-size:18px;font-weight:800}
    #globalBox{margin-top:18px}
    .muted{opacity:.85;font-size:13px}
  </style>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js"></script>
  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

  <header>
    <img src="./img/logo-comfenalco.png" alt="Logo">
    <h1>Seguridad Delagente</h1>
    <nav>
      <button id="btnDashboard" class="btn ghost">Dashboard</button>
      <button id="btnChecklist" class="btn ghost">Checklist</button>
      <button id="btnLogin" class="btn primary">Iniciar sesión</button>
      <button id="btnLogout" class="btn" style="display:none">Cerrar sesión</button>
    </nav>
  </header>

  <main>
    <div class="tabs">

      <!-- DASHBOARD -->
      <div id="tabDashboard" class="tab">
        <div class="grid">
          <div class="card">
            <h2>Avance por categoría</h2>
            <p class="muted">Barras horizontales. Clic en el nombre te lleva a la categoría.</p>
            <canvas id="barChart" height="220"></canvas>
          </div>
          <div class="card">
            <h2>Distribución de items</h2>
            <p class="muted">Gráfico tipo malla (radar) conectado al avance real.</p>
            <canvas id="radarChart" height="220"></canvas>
          </div>
        </div>

        <div id="globalBox" class="card">
          <h2>Progreso global</h2>
          <div id="globalText" class="muted">Cargando…</div>
        </div>
      </div>

      <!-- CHECKLIST -->
      <div id="tabChecklist" class="tab">
        <div class="card">
          <h2>Checklist</h2>
          <div id="checklistContainer" class="muted">
            Aquí va tu checklist (esto es un placeholder). <br>
            Cuando lo tengas, lo enganchamos al progreso por ítem.
          </div>
        </div>
      </div>

      <!-- (Opcional) ADMIN -->
      <div id="tabAdmin" class="tab" style="display:none">
        <div class="card">
          <h2>Admin</h2>
          <div class="muted">Sección opcional.</div>
        </div>
      </div>
    </div>
  </main>

  <!-- Tu script de app -->
  <script src="./script.supabase.js"></script>
</body>
</html>
